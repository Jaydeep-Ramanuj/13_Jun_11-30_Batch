<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-[#24252e]">
    <h1 class="text-[64px] font-bold text-center">Welcome to Ticket center</h1>
    <hr />
    <form class="w-96 bg-slate-600 text-zinc-200 mx-auto mt-10 p-4 rounded-lg">
      <select
        name=""
        id="price-list"
        class="bg-transparent text-slate-900 outline-none"
      >
        <option value="100" selected>100</option>
        <option value="120" selected>120</option>
        <option value="150" selected>150</option>
        <option value="170" selected>170</option>
        <option value="200" selected>200</option>
      </select>

      <input
        type="age"
        name=""
        id="age"
        placeholder="Enter your age"
        class="bg-transparent border-b-2 outline-none font-semibold text-md"
      />
      <br />
      <div class="mt-4">
        <input type="radio" name="status" id="female" />
        <label for="female">Female</label>
        <input type="radio" name="status" id="divyang" />
        <label for="divyang">Divyang</label>
        <input type="radio" name="status" id="mla" />
        <label for="mla">MLA</label>
      </div>
      <div class="mt-4">
        <input type="radio" name="holiday" id="diwali" />
        <label for="diwali">Diwali</label>
        <input type="radio" name="holiday" id="navratri" />
        <label for="navratri">Navratri</label>
        <input type="radio" name="holiday" id="holi" />
        <label for="holi">Holi</label>
      </div>
      <button
        class="mt-4 bg-[#4fb7f9] px-6 py-1.5 rounded font-semibold text-slate-600 active:scale-90"
      >
        Generate Ticket
      </button>
    </form>

    <h1
      id="total"
      class="text-[48px] font-semibold text-zinc-400 text-center"
    ></h1>

    <script>
      // Bus ticket system
      // if age < 3 => Free ticket
      // if age >3 and age < 8 => Half ticket
      // if age >8  => Full ticket
      // if age > 8 and Female => ticket - 10
      // if age >8 and Divyang => ticket - 15
      // if age >8 and MLA => ticket - 20

      //   if Diwali => 20 of for all on final price
      //   if Navratri => 10 of for all on final price
      //   if Holi => 5 of for all on final price

      // ========================

      let ageEle = document.querySelector('#age');

      let femaleEle = document.querySelector('#female');
      let divyangEle = document.querySelector('#divyang');
      let mlaEle = document.querySelector('#mla');
      let diwaliEle = document.querySelector('#diwali');
      let navratriEle = document.querySelector('#navratri');
      let holiEle = document.querySelector('#holi');
      let priceEle = document.querySelector('#price-list');

      let totalEle = document.querySelector('#total');
      document.querySelector('button').addEventListener('click', (e) => {
        console.log('btn clicked');

        e.preventDefault();
        let age = ageEle.value;
        let isFemale = femaleEle.checked;
        let isDivyang = divyangEle.checked;
        let isMLA = mlaEle.checked;
        let isDiwali = diwaliEle.checked;
        let isNavratri = navratriEle.checked;
        let isHoli = holiEle.checked;
        // let isSpecifiedFestival = false;
        let ticketPrice = priceEle.value;

        let finalTicketPrice;

        if (age < 8) {
          if (age <= 3) {
            // console.log('Free Ticket: 0');
            // totalEle.textContent = 'Free Ticket: 0';
            finalTicketPrice = 0;
          } else {
            // console.log('Half ticket: ', ticketPrice / 2);
            // totalEle.textContent = `Half ticket: ${ticketPrice / 2}`;
            finalTicketPrice = ticketPrice / 2;
          }
        } else {
          if (isFemale) {
            // console.log('10 Rupee off: ', ticketPrice - 10);
            // totalEle.textContent = `10 Rupee off: ${ticketPrice - 10}`;
            finalTicketPrice = ticketPrice - 10;
          } else if (isDivyang) {
            // console.log('15 Rupee off: ', ticketPrice - 15);
            // totalEle.textContent = `15 Rupee off: ${ticketPrice - 15}`;
            finalTicketPrice = ticketPrice - 15;
          } else if (isMLA) {
            // console.log('20 Rupee off: ', ticketPrice - 20);
            // totalEle.textContent = `20 Rupee off: ${ticketPrice - 20}`;
            finalTicketPrice = ticketPrice - 20;
          } else {
            // console.log('Full ticket: ', ticketPrice);
            // totalEle.textContent = `Full ticket: ${ticketPrice}`;
            finalTicketPrice = ticketPrice;
          }
        }

        if (isDiwali) {
          finalTicketPrice = finalTicketPrice - 20;
        } else if (isNavratri) {
          finalTicketPrice = finalTicketPrice - 10;
        } else if (isHoli) {
          finalTicketPrice = finalTicketPrice - 5;
        } else {
          finalTicketPrice = finalTicketPrice;
        }

        console.log(finalTicketPrice);
        totalEle.textContent = `Final Ticket price: ${finalTicketPrice}`;
      });
    </script>
  </body>
</html>
